# Инструкция по развертыванию на Railway

## Необходимые файлы
Ниже приведен список всех файлов, необходимых для запуска бота на Railway:

1. **Основные файлы бота:**
   - `bot_railway.py` - основной файл Telegram бота
   - `zero_ads_bot.py` - модуль с нулевой толерантностью к рекламе
   - `advanced_filter.py` - улучшенная система фильтрации контента
   - `content_filter.py` - базовая система фильтрации
   - `meme_data.py` - модуль данных мемов
   - `meme_analytics.py` - модуль аналитики
   - `recommendation_engine.py` - система рекомендаций
   - `vk_utils.py` - утилиты для работы с VK API

2. **Данные:**
   - `cached_filtered_memes.json` - кэш отфильтрованных мемов
   - `rejected_memes.json` - отклоненные мемы

3. **Конфигурационные файлы:**
   - `Procfile` - инструкции для Railway
   - `railway.json` - конфигурация Railway
   - `requirements_railway.txt` - зависимости Python
   - `runtime.txt` - версия Python
   - `.env.example` - пример файла переменных окружения
   - `.gitignore` - список игнорируемых файлов

## Шаги по развертыванию

1. **Создайте новый проект на Railway**
   - Войдите в аккаунт Railway
   - Нажмите "New Project" -> "Deploy from GitHub"
   - Подключите свой репозиторий GitHub

2. **Загрузите файлы в репозиторий**
   - Клонируйте созданный репозиторий
   - Скопируйте все файлы из этой папки в ваш репозиторий
   - Сделайте коммит и отправьте изменения:
     ```
     git add .
     git commit -m "Initial commit"
     git push origin main
     ```

3. **Настройте переменные окружения в Railway**
   - Откройте ваш проект на Railway
   - Перейдите в "Variables"
   - Добавьте следующие переменные:
     - `TELEGRAM_BOT_TOKEN` - токен вашего Telegram бота
     - `VK_TOKEN` (опционально) - токен для доступа к VK API

4. **Проверьте статус развертывания**
   - Перейдите на вкладку "Deployments"
   - Дождитесь завершения процесса развертывания
   - Проверьте логи на наличие ошибок

5. **Проверьте работу бота**
   - Откройте вашего бота в Telegram
   - Отправьте команду `/start`

## Устранение ошибок

1. Если бот не отвечает, проверьте логи в Railway
2. Убедитесь, что токен бота правильный
3. Убедитесь, что все файлы загружены в репозиторий
4. Проверьте сообщения об ошибках в логах

## Контроль рекламного контента

Система фильтрации с нулевой толерантностью к рекламе автоматически отфильтровывает:
- Тексты с рекламным содержанием
- Мемы с упоминанием цен, скидок, промо-акций
- Изображения с рекламными шаблонами
- Контент, не соответствующий офисной тематике